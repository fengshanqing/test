window.__require=function e(t,n,o){function i(r,a){if(!n[r]){if(!t[r]){var s=r.split("/");if(s=s[s.length-1],!t[s]){var l="function"==typeof __require&&__require;if(!a&&l)return l(s,!0);if(c)return c(s,!0);throw new Error("Cannot find module '"+r+"'")}}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){return i(t[r][1][e]||e)},u,u.exports,e,t,n,o)}return n[r].exports}for(var c="function"==typeof __require&&__require,r=0;r<o.length;r++)i(o[r]);return i}({GameBase:[function(e,t,n){"use strict";function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}cc._RF.push(t,"4c78986jilJ7bzHXLOu24Pk","GameBase");var i=e("util-env"),c=e("util-strings");e("util-loaderp");var r={$debug:i.debug,$log:i.log,addPrefabToScene:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.instantiatePrefab(e,t).then(function(e){var n=cc.director.getScene(),o=n.children[0];e.x=o.width/2,e.y=o.height/2,e.active=!1;var i=e.addComponent(t);return n.addChild(e),i})},instantiatePrefab:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return new Promise(function(n,o){cc.loader.loadRes(e+"/"+t,function(e,t){if(e)o(e);else{var i=cc.instantiate(t);n(i)}})})},saveAudio:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this;n&&(n["audio"+c.capitalize(e)]=t)},playAudio:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this)["audio"+c.capitalize(e)];return t?cc.audioEngine.play(t):-1},playAudioPromise:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,n=this.playAudio(e,t);return n<0?Promise.reject(e+" not found!"):new Promise(function(e){cc.audioEngine.setFinishCallback(n,e)})},runActionPromise:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return this.runActionPromiseWithArg.apply(this,[e,null].concat(o(n)))},runActionPromiseWithArg:function(e,t){for(var n=arguments.length,o=Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];return new Promise(function(n){o.push(cc.callFunc(function(e){return n(t)}));var i=cc.sequence(o);e.runAction(i)})},urlOf:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.directory;return s(this),this.resourceHost+"/"+t+"/"+e},setResourceHost:function(e){return this.resourceHost=e,this},setDirectory:function(e){return this.directory=e,this},loadConfig:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"config.json";return s(this),cc.loaderp.load(this.urlOf(t)).then(function(t){return e._config=t})},loadImage:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];s(this);var n=cc.loaderp.load(this.urlOf(e));return t?n.then(a):n},loadImages:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];s(this);var n=cc.loaderp.loadAll(e);return t?n.then(function(e){return e.map(a)}):n},loadAudio:function(e){return s(this),cc.loaderp.load(this.urlOf(e))},loadAudios:function(e){return s(this),cc.loaderp.loadAll(e)}};function a(e){var t=new cc.SpriteFrame;return t.setTexture(e),t}function s(e){if(!e.resourceHost)throw new Error("Please set resource host property of GameBase!");if(!e.directory)throw new Error("Please set directory first!")}cc.Class({extends:cc.Component,properties:{collisionSystem:!1,debugCollision:!1,resourceHost:{default:"",tooltip:"CDN Path without trailing slash, e.g.: https://files.host.com/games"}},onLoad:function(){this._env=i,this._query=c.parseQuery(location.search);var e=cc.director.getCollisionManager();e.enabled=this.collisionSystem,e.enabledDebugDraw=this.debugCollision,this.init()},init:function(){var e=this.node._components;for(var t in e){var n=e[t];n&&!0===n.sceneScript&&(Object.assign(n,r),n.resourceHost=this.resourceHost,n.query=this._query,n.env=this._env)}}}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),o=1;o<arguments.length;o++){var i=arguments[o];if(null!=i)for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(n[c]=i[c])}return n},writable:!0,configurable:!0}),cc._RF.pop()},{"util-env":"util-env","util-loaderp":"util-loaderp","util-strings":"util-strings"}],MainBase:[function(e,t,n){"use strict";cc._RF.push(t,"cfb4eGqiIdDn7/ft7kkNxa9","MainBase");e("util-action");window.log=cc.log.bind(void 0),Array.prototype.randomElement=function(){return this[Math.floor(Math.random()*this.length)]},cc.Node.prototype.playAnimation=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Promise(function(n){e.getComponent(cc.Animation).play(t).once("finished",function(){n()})})},cc.Node.prototype.setPositionByNode=function(e){this.position=this.parent.convertToNodeSpaceAR(e.convertToWorldSpaceAR(cc.Vec2.ZERO))},cc.Node.prototype.btnEffect=function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.on("touchstart",function(){t&&e.runAction(cc.sequence(cc.scaleTo(.1,1.2),cc.scaleTo(.1,1)))})},cc.Node.prototype.sizeTo=function(e,t,n){var o=this,i=t-this.width,r=n-this.height;this.i=0,c.schedule(function(){o.width+=i/(60*e),o.height+=r/(60*e),i>0?o.width>t&&(o.width=t):o.width<t&&(o.width=t),r>0?o.height>n&&(o.height=n):o.height<n&&(o.height=n),o.i++,o.i==60*e&&(o.width=t,o.height=n)},1/60,60*e)},cc.Class({extends:cc.Component,properties:{sceneScript:!0,audioStart:{url:cc.AudioClip,default:null},rainbow:{type:cc.Prefab,default:null}},onLoad:function(){},start:function(){this.audioStart=_jsonRes.guide,_prefabsJs.setAudioBtnEventHandler(this,"playAudioBtn"),this.saveNodesPosition(),this.block=this.addBlock()},startGame:function(){this.maskIn(),_jsonRes.bg&&cc.audioEngine.playMusic(_jsonRes.bg,!0,1)},againGame:function(){this.resumeNodesPosition()},playStartAudio:function(){var e=this;return this.maskIn(),new Promise(function(t){e.playUrlAudioPromise(e.audioStart).then(function(){t()})})},playAudioBtn:function(){var e=this;return this.maskIn(),new Promise(function(t){e.playUrlAudioPromise(e.rightAudio).then(function(){e.maskOut(),t()})})},maskIn:function(){this.block.active=!0},maskOut:function(){this.block.active=!1},gameover:function(){_prefabsJs.playGameOver(),_prefabsJs.setEventHandler(this,"againGame")},getAllNodes:function(){var e=this,t=cc.director.getScene().children[0];this.nodeList=new Array;(function t(n){e.nodeList.push(n);for(var o=0;o<n.childrenCount;o++)t(n.children[o])})(t)},getPicLength:function(e){for(var t=1;_jsonRes[e+t];)t++;return t-1},getArr:function(e){for(var t=[],n=1;n<e+1;n++){var o=n;t.push(o)}return t},onLoadNodesSpriteFrame:function(){var e=this;this.nodeList.forEach(function(t,n){_json.resources.images[t.name]&&t.getComponent(cc.Sprite)&&e.loadPic(_json.resources.images[t.name],t)})},saveNodesPosition:function(){this.getAllNodes(),this.nodeList.forEach(function(e){e._pos=e.position,e._sca=e.scale,e._rot=e.rotation,e._opa=e.opacity,e._act=e.active,e._col=e.color})},resumeNodesPosition:function(){this.nodeList.forEach(function(e){"background2"!=e.name&&(e.position=e._pos,e.scale=e._sca,e.rotation=e._rot,e.opacity=e._opa,e.active=e._act,e.color=e._col,e.resumeSystemEvents(!0))})},addBlock:function(){var e=cc.winSize,t=cc.director.getScene(),n=new cc.Node("Block");return n.addComponent(cc.BlockInputEvents),n.width=e.width,n.height=e.height,n.x=e.width/2,n.y=e.height/2,n.active=!1,t.addChild(n),n},clickPlayAudio:function(e,t){var n=this;e.on("touchstart",function(){return n.maskIn(),new Promise(function(e){n.playUrlAudioPromise(t).then(function(){n.maskOut(),e()})})})},playUrlAudioPromise:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(e)return new Promise(function(o,i){var c=cc.audioEngine.play(e,t,n);cc.audioEngine.setFinishCallback(c,o)});console.error("\u94fe\u63a5\u65e0\u6548\u6216\u8005\u4e0d\u5b58\u5728")},shuffle:function(e){for(var t=e.length;t>0;){var n=Math.floor(Math.random()*t),o=e[--t];e[t]=e[n],e[n]=o}return e},shuffleNode:function(e){for(var t=e.length;t>0;){var n=Math.floor(Math.random()*t),o=e[--t].position;e[t].position=e[n].position,e[n].position=o}return e},setPic:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length,i=n;i<o;i++){if(t)var c=t[e[i].name];else c=e[i].name;var r=e[i];r.opacity=255,r.zIndex=i,this.loadPic(c,r)}},loadPic:function(e,t){cc.loader.load(e,function(e,n){e?console.error("\u56fe\u7247\u5730\u5740\u9519\u8bef\u6216\u8005\u4e0d\u5b58\u5728"):t.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(n)})},loadResPic:function(e,t){cc.loader.loadRes(e,function(e,n){t.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(n)})},calculateDistance:function(e,t){return Math.abs(Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)))},getAngle:function(e,t){var n=t.x-e.x,o=t.y-e.y,i=n/Math.sqrt(Math.pow(n,2)+Math.pow(o,2)),c=Math.acos(i),r=180/(Math.PI/c);return o>0&&(r=-r),r},addBlockNode:function(){var e=cc.winSize,t=cc.director.getScene(),n=new cc.Node("Block");return n.addComponent(cc.BlockInputEvents),n.width=e.width,n.height=e.height,n.x=e.width/2,n.y=e.height/2,n.active=!1,t.addChild(n),n},playParticle:function(e,t){if(e&&t){var n=cc.instantiate(t);this.node.addChild(n,111),n.active=!0,this.setPositionByNode(e,n);var o=n.getComponent(cc.ParticleSystem);o.autoRemoveOnFinish=!0,o.resetSystem()}},setPositionByNode:function(e,t){t.position=t.parent.convertToNodeSpaceAR(e.convertToWorldSpaceAR(cc.Vec2.ZERO))},getPositionByNode:function(e,t){return t.parent.convertToNodeSpaceAR(e.convertToWorldSpaceAR(cc.Vec2.ZERO))},gifInit:function(e,t,n,o,i,c){var r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:10,a=e.getComponent("Gif");a.prefix=t,a.from=n,a.to=o,a.sample=r,a.WrapMode=cc.WrapMode.Normal,a.repeatCount=i,a.init(),a.play(i,cc.WrapMode.Normal,c)}}),cc._RF.pop()},{"util-action":"util-action"}],OnMultiTouchCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"8ab6bAW/PlLzJl4aXGRG+A8","OnMultiTouchCtrl"),cc.Class({extends:cc.Component,properties:{canvas:cc.Node,target:cc.Node},onLoad:function(){var e=this,t=this.node.parent;e.canvas.on(cc.Node.EventType.TOUCH_MOVE,function(n){var o=n.getTouches();if(o.length>=2){var i=o[0],c=o[1],r=i.getDelta(),a=c.getDelta(),s=t.convertToNodeSpaceAR(i.getLocation()),l=t.convertToNodeSpaceAR(c.getLocation()),u=s.sub(l),d=r.sub(a),h=1;(h=Math.abs(u.x)>Math.abs(u.y)?(u.x+d.x)/u.x*e.target.scale:(u.y+d.y)/u.y*e.target.scale)<.5&&(h=.5),h>2&&(h=2),e.target.scale=h}else{var p=o[0].getDelta(),f=e.target;cc.log(f.scale,f.width,(f.scale-1)*f.width/2),f.x+p.x>(f.scale-1)*f.width/2||f.x+p.x<-(f.scale-1)*f.width/2?f.x=f.x:f.x+=p.x,f.y+p.y>(f.scale-1)*f.height/2||f.y+p.y<-(f.scale-1)*f.height/2?f.y=f.y:f.y+=p.y}},e.node),e.canvas.on(cc.Node.EventType.TOUCH_END,function(t){e.target.scale<1&&e.target.runAction(cc.sequence(cc.spawn(cc.scaleTo(.1,1),cc.moveTo(.1,cc.v2(0,0))),cc.callFunc(function(){e.target.x=0,e.target.y=0,cc.log(e.target.position)})))},e.node)}}),cc._RF.pop()},{}],"comp-gif":[function(e,t,n){"use strict";cc._RF.push(t,"66badAIz3ZPX4cvSLksw4UZ","comp-gif");var o=e("util-events");cc.Class({name:"Gif",extends:cc.Component,properties:{atlas:{type:cc.SpriteAtlas,default:null},srcBlendFactor:{type:cc.macro?cc.macro.BlendFactor:cc.BlendFunc.BlendFactor,default:cc.macro.BlendFactor?cc.macro.BlendFactor.ONE:cc.BlendFunc.BlendFactor.ONE},wrapMode:{type:cc.WrapMode,default:cc.WrapMode.Loop},playOnLoad:!0,onAnimateFinished:{type:cc.Component.EventHandler,default:null},prefix:"",suffix:"",from:-1,to:-1,frameSequence:"",sample:10,repeatCount:-1},statics:{createOn:function(e,t,n){var o=n.from,i=void 0===o?-1:o,c=n.to,r=void 0===c?-1:c,a=n.sample,s=void 0===a?10:a,l=n.prefix,u=void 0===l?"":l,d=n.suffix,h=void 0===d?"":d,p=n.srcBlendFactor,f=void 0===p?cc.macro.BlendFactor?cc.macro.BlendFactor.ONE:cc.BlendFunc.BlendFactor.ONE:p,v=n.wrapMode,m=void 0===v?cc.WrapMode.Loop:v,g=n.playOnLoad,y=void 0===g||g,w=n.onAnimateFinished,_=void 0===w?null:w,A=n.repeatCount,b=void 0===A?-1:A,C=n.frameSequence,F=void 0===C?"":C,E=new cc.SpriteAtlas;E._spriteFrames=t;var B=new cc.Node("comp-gif-node");B.parent=e;var P=this.gif=new Gif;return P.node=B,P.atlas=E,P.from=i,P.to=r,P.sample=s,P.prefix=u,P.suffix=h,P.srcBlendFactor=f,P.wrapMode=m,P.playOnLoad=y,P.onAnimateFinished=_,P.repeatCount=b,P.frameSequence=F,B._components.push(P),P.init(),P}},onLoad:function(){this.init()},init:function(){this._frames=this.atlas.getSpriteFrames(),this._createAtlas();var e=this.getComponent(cc.Sprite);e||(e=this.addComponent(cc.Sprite)),e.srcBlendFactor=this.srcBlendFactor;var t=this.animation=this.addComponent(cc.Animation),n=this.clip=cc.AnimationClip.createWithSpriteFrames(this._getFrames(),this.sample);n.name="comp-spriteframe-anim",t.addClip(n),this.playOnLoad&&this.play(this.repeatCount,this.wrapMode)},showFrameAt:function(e){var t=this._frames[e];return!!t&&(this.node.getComponent(cc.Sprite).spriteFrame=t,t)},play:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cc.WrapMode.Loop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=this.animation.play(this.clip.name);o.wrapMode=t,o.repeatCount=this.repeatCount<0?1/0:e,this.animation.once("finished",n||this._onAnimateFinished,this)},playp:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise(function(n){e.play(t,cc.WrapMode.Normal,function(e){n()})})},_onAnimateFinished:function(e){o.callHandler(this.onAnimateFinished,[e,this.animation,this])},_createAtlas:function(){var e=this;this.atlas=new cc.SpriteAtlas,this._frames.forEach(function(t){return e.atlas._spriteFrames[t._name]=t})},_getFrames:function(){var e=this;if(this.frameSequence)return this.frameSequence.split(",").map(function(t){return e.atlas.getSpriteFrame(""+e.prefix+t+e.suffix)});if(this.from<0||this.to<0)return this._frames;for(var t=[],n=this.from;n<=this.to;++n){var o=this.atlas.getSpriteFrame(""+this.prefix+n+this.suffix);o&&t.push(o)}return t}}),cc._RF.pop()},{"util-events":"util-events"}],"comp-image-set":[function(e,t,n){"use strict";cc._RF.push(t,"3f542JSbp1GY7weoG9lfa3G","comp-image-set"),cc.Class({name:"ImageSet",extends:cc.Component,properties:{srcBlendFactor:{type:cc.macro?cc.macro.BlendFactor:cc.BlendFunc.BlendFactor,default:cc.macro?cc.macro.BlendFactor.ONE:cc.BlendFunc.BlendFactor.ONE},list:{type:cc.SpriteFrame,default:[]},_indices:[],indices:{type:cc.Integer,default:[]}},onLoad:function(){this.init(),this.showAt(this.indices)},init:function(){var e=this,t=this.node;this.nodes=this.list.map(function(n,o){var i=new cc.Node("imageset-"+o),c=i.addComponent(cc.Sprite);return c.spriteFrame=n,c.srcBlendFactor=e.srcBlendFactor,e.node.addChild(i),i.active=!1,i.width=t.width,i.height=t.height,i})},addComponentsAt:function(e,t){var n=this.nodes[e];n&&(Array.isArray(t)?t.forEach(function(e){return n.addComponent(e)}):n.addComponent(t))},showAt:function(e){var t=this;(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.nodes.forEach(function(e){return e.active=!1}),"number"==typeof e&&(e=[e]),e.forEach(function(e){var n=t.nodes[e];n&&(n.active=!0)})}}),cc._RF.pop()},{}],"comp-prop-list":[function(e,t,n){"use strict";cc._RF.push(t,"94079RvI/FHepdh44GiuLdB","comp-prop-list");var o=cc.Class({name:"KeyValuePair",properties:{name:"",value:""}}),i=cc.Class({name:"NodeComp",properties:{node:"",component:"",name:""}});cc.Class({name:"PropList",extends:cc.Component,properties:{nodes:{type:cc.Node,default:function(){return[]}},audios:{type:cc.AudioClip,default:function(){return[]}},nodeComps:{type:i,default:function(){return[]}},tags:{type:o,default:function(){return[]}}},onLoad:function(){this.init()},init:function(){var e=this;this.node._components.forEach(function(t){t&&(t.sceneScript?(e.inject(e.nodes,t),e.inject(e.audios,t,v("audio")),e.inject(e.tags,t,v("_$",!1)),e.inject(e.nodeComps,t,v("_$",!1))):e.node.name.match(/\$$/)&&t===e&&(e.inject(e.nodes,e.node),e.inject(e.audios,e.node,v("audio")),e.inject(e.tags,e.node,v("_$",!1)),e.inject(e.nodeComps,e.node,v("_$",!1))))})},inject:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f;e&&e.forEach(function(e){if(e){var o=void 0,i=void 0,c=void 0,r=void 0;if("string"==typeof e){var a=e.split(/[/\.]/);o=a[a.length-2],c=n(o),i=t[c],r=e}else if(o=e.name,c=n(o),i=t[c],"component"in e){if(e.node&&e.component&&e.name){var s=t[e.node];if(!s)return;var l=s.getComponent(e.component);if(!l)return;r=l,c=c=n(e.name)}}else r="value"in e?p(e.value):e;void 0===i?t[c]=r:Array.isArray(i)?i.push(r):t[c]=[t[c],r]}else console.warn("Missing reference in comp-prop-list!\nYou may delete one or more nodes/assets that referenced in prop list component.")})}}).KeyValuePair=o;var c="true",r="false",a="null",s="undefined",l="Infinity",u="NaN",d=/^[-+]?\d$/,h=/^[+-]?\d+(\.\d+)?$/;function p(e){return e===c||e!==r&&(e===a?null:e===s?void 0:e===l?1/0:e===u?NaN:d.test(e)?parseInt(e,10):h.test(e)?parseFloat(e):e)}function f(e){return e}function v(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n){return e+(t?n[0].toUpperCase()+n.substr(1):n)}}cc._RF.pop()},{}],hello:[function(e,t,n){"use strict";cc._RF.push(t,"829edoa/h5IcrbpnSrs9PLi","hello");var o=e("MainBase");cc.Class({extends:o,properties:{collider:{default:null,type:cc.PolygonCollider},assetNormal:{default:null,type:cc.Texture2D},assetPress:{default:null,type:cc.Texture2D}},start:function(){var e=this;this.color=null,window.c=this,this.colorsArray=[],this.colors.children.forEach(function(e){e.color=new cc.color(255,255,255),e.opacity=0,e.colorBool=!0}),this.pinks.children.forEach(function(t){e.colorsArray.push(t.color),t.children[0]._components[1].enabled=!1,t.on("touchstart",function(n){e.color=t.color,e.pinks.children.forEach(function(e){e.children[0]._components[1].enabled=!1}),t.children[0]._components[1].enabled=!0})}),this.loadStartGameBtn(),this.colors.children.forEach(function(t){t.on("touchstart",function(e){t.loc=e.getLocation()}),t.on("touchend",function(n){n.getLocation().x==t.loc.x&&e.touchEvent(n)})})},pageViewShow:function(){this.pageView.active=!0,this.pageView.opacity=255},pageViewHide:function(){var e=this;this.pageView.runAction(cc.sequence(cc.fadeOut(1),cc.callFunc(function(){e.showGuide(),e.pageView.active=!1})))},loadStartGameBtn:function(e,t){var n=this,o=document.getElementById("splash"),i=document.getElementById("start-btn");i.style.display="inline-block",i.onclick=function(){i.style.display="none",setTimeout(function(){o.style.display="none"},1e3),setTimeout(function(){var e=document.getElementById("jump");e.style.display="inline-block",e.onclick=function(){n.videoplayer.active=!1,e.style.display="none",n.pageViewShow()}},2e3),n.videoplayer._components[0].play(),n.videoplayer.width=cc.winSize.width,n.videoplayer.on("completed",function(e){n.videoplayer.active=!1,jump.style.display="none"})}},touchEvent:function(e){var t=this,n=e.target,o=e.getLocation(),i=e.target.convertToNodeSpaceAR(o);n._components.slice(2).forEach(function(e){var o=e.world.points;t.color&&cc.Intersection.pointInPolygon(i,o)&&(n.color._val!==t.color._val?(n.runAction(cc.spawn(cc.fadeIn(1),cc.tintTo(1,t.color.r,t.color.g,t.color.b))),n.colorBool=!1):(n.color=cc.color(255,255,255),n.opacity=0,n.colorBool=!0))})},shuffleColors:function(){var e=this;this.shuffle(this.colorsArray),this.colors.children.forEach(function(t,n){t.color=e.colorsArray[n],t.opacity=255})},backBtnEvent:function(e){e.target.y>-400?this.bottom.playAnimation("bottm0"):this.bottom.playAnimation("bottom1")},videoHide:function(){this.videoplayer.destory()},alertShowHide:function(){this.alert.active=!this.alert.active},inputName:function(){var e=this;if(this.userName=this.alert.children[3]._components[0]._string,this.userName){this.alertShowHide(),this.share.active=!0,this.bottoms.active=!0;var t=cc.instantiate(this.colors);this.share.children[1].addChild(t,1),this.share.children[3].children[0].getComponent(cc.Label).string=this.alert.children[3]._components[0]._string,this.savePic();var n=document.getElementById("reset"),o=document.getElementById("fabu");n.style.display="inline-block",o.style.display="inline-block",n.onclick=function(){e.resetColors()},o.onclick=function(){window.alert("\u529f\u80fd\u672a\u5f00\u653e")}}else window.alert("\u8bf7\u8f93\u5165\u540d\u5b57")},resetColors:function(){this.userName="",this.share.active=!1,this.bottoms.active=!1,this.share.children[1].removeChild(this.share.children[1].children[1]),this.share.children[3].children[0].getComponent(cc.Label).string="",this.colors.children.forEach(function(e){e.color=new cc.color(255,255,255),e.opacity=0,e.colorBool=!0}),this.pinks.children.forEach(function(e){e.children[0]._components[1].enabled=!1});var e=document.getElementById("reset"),t=document.getElementById("fabu");e.style.display="none",t.style.display="none",document.getElementById("capture").remove()},showGuide:function(){this.guide.active=!0,this.guide.playAnimation()},closeGuide:function(){this.guide.active=!1},savePic:function(){var e=this.share.getComponent(cc.Camera),t=new cc.RenderTexture,n=cc.game._renderContext;t.initWithSize(cc.visibleRect.width,cc.visibleRect.height,n.STENCIL_INDEX8),e.targetTexture=t,e.render();for(var o=t.readPixels(),i=document.createElement("canvas"),c=i.getContext("2d"),r=i.width=t.width,a=i.height=t.height,s=4*r,l=0;l<a;l++){for(var u=a-1-l,d=c.createImageData(r,1),h=u*r*4,p=0;p<s;p++)d.data[p]=o[h+p];c.putImageData(d,0,l)}var f,v=i.toDataURL("image/jpeg");(f=document.getElementById("capture")?document.getElementById("capture"):document.createElement("img")).src=v,cc.director.once(cc.Director.EVENT_AFTER_DRAW,function(){cc.game.canvas.toDataURL();var e=document.getElementById("Cocos2dGameContainer");f.id="capture",f.alt="capture",f.width=cc.view._frameSize.width,f.height=cc.view._frameSize.height,f.style.position="absolute",f.style.display="inline-block",f.style.opacity=0,f.style.top=0,f.style.left=0,e.insertBefore(f,e.children[0])})}}),cc._RF.pop()},{MainBase:"MainBase"}],touch:[function(e,t,n){"use strict";cc._RF.push(t,"6dc0ah16XlB775/LJtEcP91","touch");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,c=arguments.length,r=c<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(c<3?i(r):c>3?i(t,n,r):i(t,n))||r);return c>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var c=cc._decorator,r=c.ccclass,a=c.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.clickEvents=new Array,t}return o(t,e),t.prototype.onLoad=function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_START,function(t){null!=e.clickEvents&&cc.Component.EventHandler.emitEvents(e.clickEvents,t)}),this.node._touchListener.setSwallowTouches(!1)},i([a([cc.Component.EventHandler])],t.prototype,"clickEvents",void 0),t=i([r],t)}(cc.Component);n.TransmitTouch=s,cc._RF.pop()},{}],"util-action":[function(e,t,n){"use strict";function o(e,t){var n=t.reduce(function(t,n){return t[n]=e[n],t},{});return cc.callFunc(function(){for(var t in n)e[t]=n[t]})}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return function(){var i=arguments[0],c=Array.from?Array.from(arguments):Array.prototype.slice.call(arguments),r=e.apply(null,arguments);return new Promise(function(e,a){if(!i)return a();n||r.push(cc.callFunc(e)),o&&(r=o(r,c));var s=cc[t].apply(cc,r);i.runAction(s)})}}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,c=o(e,["y","anchorY","rotationX","rotationY"]),r=cc.rotateTo(n,t,t),a=cc.rotateTo(n,-t,-t);return[cc.callFunc(function(){e.anchorY=-1,e.y-=1.5*e.height}),cc.repeat(cc.sequence(r,a),i),c]}cc._RF.push(t,"1ede1te1IlOdJ5RwpDOW++s","util-action"),Object.defineProperty(n,"__esModule",{value:!0});i(c,"sequence");function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.1,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,r=o(e,["x"]),a=cc.moveBy(i,+t,+n),s=cc.moveBy(i,-t,-n);return[cc.repeat(cc.sequence(a,s),c),r]}var a=i(r,"sequence");function s(e,t,n,i,c){var r=o(e,["scaleX","scaleY"]);return e.scale=t,[cc.scaleTo(n,i,i),cc.scaleTo(c,1,1),r]}var l=i(s,"sequence");var u=i(function(e,t,n){return e.y+=t*e.height,e.opacity=0,[cc.fadeIn(n),cc.moveBy(n,0,-t*e.height)]},"spawn");function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t;return e.opacity=0,[cc.fadeOut(t),cc.delayTime(n),cc.fadeIn(o)]}var h=i(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,n=d(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,arguments.length>3&&void 0!==arguments[3]?arguments[3]:t);return[cc.sequence(n)]},"repeatForever",!0),p=i(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:3,c=d(e,t,n,o);return[cc.repeat(cc.sequence(c),i)]},"sequence",!1,function(e,t){return[e,t[4]]});n.default={saveProps:o,shake1:a,zoomIn0:l,fadeIn0:u,shake1_:r,zoomIn0_:s,wobble_:c,flash_:d,wobble:i(c,"sequence"),flash:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;return t>0?p(e,n,o,i,t):h(e,n,o,i)},shakeH:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return a.call(null,e,t,0,n,o)},shakeV:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return a.call(null,e,0,t,n,o)},zoomIn:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return l(e,.5,.2,t?1.2:1,.1)},fadeInDown:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;return u(e,1,t)},fadeInUp:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;return u(e,-1,t)}},t.exports=n.default,cc._RF.pop()},{}],"util-env":[function(e,t,n){"use strict";cc._RF.push(t,"b050f/nsqdOuKNVbNi944dl","util-env"),Object.defineProperty(n,"__esModule",{value:!0});var o=location.hostname,i=navigator.userAgent;n.default={a:!!o.match(/^(a[0-9]+)-/),local:!!o.match(/^(test-|localhost)/),prod:/lingobus.com$/.test(o),lang:window.navigator.language||window.browserLanguage,debug:function(){this.prod||console.log.apply(console,arguments)},warn:function(){console.warn.apply(console,arguments)},error:function(){console.error.apply(console,arguments)},log:function(){console.log.apply(console,arguments)},isWechat:function(){return!!i.match(/MicroMessenger/i)}},t.exports=n.default,cc._RF.pop()},{}],"util-events":[function(e,t,n){"use strict";cc._RF.push(t,"bde8esFH7dAXpVG5+i6uqRm","util-events"),Object.defineProperty(n,"__esModule",{value:!0}),n.default={emitEvents:function(e){var t=e;"string"==typeof e&&(t=this[e]),void 0!==t&&cc.Component.EventHandler.emitEvents(t)},callHandler:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=e;if("string"==typeof e&&(o=this[e]),o&&o.target){var i=o.target.getComponent(o.component);t=i[o.handler].apply(i,n)}return t}},t.exports=n.default,cc._RF.pop()},{}],"util-loaderp":[function(e,t,n){"use strict";cc._RF.push(t,"270c4AzkPpFTbObeoRBPU4J","util-loaderp");var o=function(){function e(e,t){var n=[],o=!0,i=!1,c=void 0;try{for(var r,a=e[Symbol.iterator]();!(o=(r=a.next()).done)&&(n.push(r.value),!t||n.length!==t);o=!0);}catch(e){i=!0,c=e}finally{try{!o&&a.return&&a.return()}finally{if(i)throw c}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}if(cc&&cc.loader){var c=cc.loader,r=cc.loaderp={},a=function(e){return function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return new Promise(function(t,o){n.push(function(e,n){e?o(e):t(n)}),c[e].apply(c,n)})}};r.loadRes=a("loadRes"),r.load=a("load"),r.loadResAll=function(e){var t=e.map(function(e){return cc.loaderp.loadRes.apply(cc.loaderp,e)});return Promise.all(t)},r.loadAll=function(e){var t=e.map(function(e){return cc.loaderp.load.apply(cc.loaderp,e)});return Promise.all(t)},r.loadAtalas=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".png",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".plist";return this.loadAll([[""+e+n],[""+e+t]]).then(function(e){var t=o(e,2),n=t[0],i=t[1];if(n&&n.frames){var c={};for(var r in n.frames){var a=n.frames[r],l=s(a.frame,cc.Rect),u=s(a.offset,cc.Vec2),d=s(a.sourceSize,cc.size),h=new cc.SpriteFrame;h.name=r,h.setTexture(i,l,a.rotated,u,d),c[r]=h}return c}})};var s=function(e,t){var n=e.replace(/[^0-9,]/g,"").split(",").map(function(e){return parseInt(e,10)});return new(Function.prototype.bind.apply(t,[null].concat(i(n))))}}cc._RF.pop()},{}],"util-strings":[function(e,t,n){"use strict";cc._RF.push(t,"14e04iawTdCjIp1CwpB0z5M","util-strings"),Object.defineProperty(n,"__esModule",{value:!0});var o=/^([a-z])|\s([a-z])/g;n.default={parseQuery:function(e){var t={};return e&&(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach(function(e){var n=e.replace(/\+/g," ").split("="),o=decodeURIComponent(n.shift()),i=n.length>0?decodeURIComponent(n.join("=")):null;void 0===t[o]?t[o]=i:Array.isArray(t[o])?t[o].push(i):t[o]=[t[o],i]}),t):t},capitalize:function(e){return e.replace(o,function(e){return e.toUpperCase()})}},t.exports=n.default,cc._RF.pop()},{}]},{},["hello","MainBase","OnMultiTouchCtrl","comp-gif","comp-image-set","comp-prop-list","GameBase","util-action","util-env","util-events","util-loaderp","util-strings","touch"]);